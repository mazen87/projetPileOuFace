<!DOCTYPE html>
<html>
<head>

    <script>
        
        //5
        var pseudo = "";

        //function prend en paramétre un pseudo et initialise la variable global avec la valeur passé en paramétre 
        
        
        function demandePseudo(){
            let saisie = prompt(alert(" veuillez choisir un pseudo :"));
            pseudo = saisie;
            console.log(pseudo);
            return pseudo;
        }

        // 6-function compte les lettres voyelles dans un mot passer en paramétres et renvoie ce nombre 
        function compteVoyelles (mot) {
            // les lettres voyelles
            let voyelles = ['a','e','i','o','u','y'];
            let motTableau = mot.split("");
            let numVoyelle = 0; 
            for(i =0;i<motTableau.length;i++){
                for(k=0;k<voyelles.length;k++){
                    if(motTableau[i]== voyelles[k]){
                        numVoyelle++;
                    }
                }


            }
            alert(" il y a "+numVoyelle+ " lettre(s) voyelle(s) dans "+ mot);
            return numVoyelle;

        }
        // function qui choisit un nombre alétoire soit 1 soit 0 
        function entierAleatoire(min, max)
        {
                return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        // 7-fonction "pileOuFace()" qui renvoie 1 en cas de pile et 0 en cas de face.
        function pileOuFace(){
            let resultat = entierAleatoire(0,1);
            return resultat;
        }

        //fonction "lancerPileOuFace()" qui effectue les opérations suivantes:
            //Demande au joueur de choisir 1 (pile) ou 0 (face)
            //Teste que la saisie du joueur soit bien égal à 0 ou 1
            //Lance aléatoirement une pièce
            //Renvoie vrai si le joueur a correctement deviné, faux sinon
            function lancerPileOuFace() {
                let resultat = true ; 
                let saisiePF = prompt(alert(" veuillez choisir  1 pour pile ou 0 pour face "));
                console.log(saisiePF);
                while(saisiePF !== "0" && saisiePF!== "1"){
                    alert("saisie non valide vous avezs perdu une tentative");
                    
            
                }
                let numalea = pileOuFace();
                console.log(numalea);
                if(saisiePF == numalea){
                        resultat = true;
                }
                else{resultat = false;}
                console.log(resultat);
                    return resultat;
            }

            //9) Créez une fonction "jeuPileOuFace()" qui respecte les règles suivantes:
               // Le joueur démarre avec 3 chances
                //Le joueur démarre avec un score à 0
                //Tant que le joueur possède des chances, il peut retenter un lancer
                //Si le joueur gagne un lancer, son score augmente, sinon ses chances baissent
                function jeuPileOuFace() {
                   
                    let numChance = 3 ;
                    let score = 0;
                    while(numChance>0){
                        let lancer = lancerPileOuFace();
                        if(lancer === true){
                            score++
                        }
                        else{ numChance--;}
                    }
                    if(numChance===0){
                        console.log(score);
                        alert("votre score est : "+score);
                    }

                   return score;

                }


        // 4-function principal du programme 
        function main(){
            //  déclaration de la variable global pseudo
        let meilleurScore = 0;
        let score = 0;
        let erreur = false; 
        pseudo = demandePseudo();
        do{
        meilleurScore = jeuPileOuFace();

    }while(prompt("voulez vous joues encore ? 1 y pour oui ")==="y"){
       score =  jeuPileOuFace();
    }
    if(score> meilleurScore){
        meilleurScore = score;
    }

    alert("le meilleur score de "+ pseudo+ " est :"+ meilleurScore);
           

          
        }

        main();
    </script>
</head>
<body>

</body>


</html>